# Смысл моделирования данных в проекте

## Полезные факты

+ Надо избегать мутабельности.

+ Надо по возможности полностью отказаться от передачи ссылок на объекты

+ Два объекта это часто просто кортежи в которых мы можем только считывать данные

+ В БД допустимо делать денормализацию данных, то есть когда сначала ищем по id данные в одной таблице, 
а затем ищем в другой таблице по найденному еще одно значение, 
будет нормально объеденить две таблицы в одну, 
что бы осуществлять поиск только один раз, что скажется на производительности.


## Пример

Пишем приложение для приемки. 
Есть таблица каталога товаров, которые есть в данном магазине - обновляется каждый день, но теоретически может быть кейс,
что отсканированного товара в каталоге не будет (завалялось что-то старое на складе, например).

Еще есть таблица для текущей приемки, которая заполняется при получении накладных.

Когда физически начинаем приемку, по каждому id выполняем join строк из таблицы накладных(2) и каталога товаров(1)(что бы подтянут название).
И записываем кол-во фактически отсканированного в таблицу отсканированного(3).

В целом все ок, но когда требуется сделать поиск по истории насканированного,
то делаемтся это с join 3 таблиц - отсканированного, накладной и каталога, 
что на ограниченных ресурсах терминала сбора данных может быть 6ыть медленно. 

Как вариант, применить денормализацию: 
а) при загрузке данных накладных, сразу дублировать в эту таблицу данные по названию товаров из каталога, 
что бы при необходимости поиска, не выполнять join.
б) добавить в эту таблицу поле с числом фактически отсканированного товара, избавившись в принципе от таблицы (3), что бы не выполнять еще один join.

Таким образом, шаг (а) замедлит первичную загрузку накладных, но в купе с шагом (б), даст приемливую скорость при поиске по названию товара 
в истории сканирования.

## Вывод

Порою можно применять денормализацию и получать с этого прирост скорости выполнения запросов в БД.
